import{r as u,N as p,f as x,l as E,o as L,j as S,h as b,g as N}from"./index-D6KPEJyS.js";function v(o){const{loading:s,src:r,srcSet:t,onLoad:a,onError:n,crossOrigin:i,sizes:f,ignoreFallback:d}=o,[g,m]=u.useState("pending");u.useEffect(()=>{m(r?"loading":"pending")},[r]);const c=u.useRef(),h=u.useCallback(()=>{if(!r)return;l();const e=new Image;e.src=r,i&&(e.crossOrigin=i),t&&(e.srcset=t),f&&(e.sizes=f),s&&(e.loading=s),e.onload=k=>{l(),m("loaded"),a==null||a(k)},e.onerror=k=>{l(),m("failed"),n==null||n(k)},c.current=e},[r,i,t,f,a,n,s]),l=()=>{c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)};return p(()=>{if(!d)return g==="loading"&&h(),()=>{l()}},[g,h,d]),d?"loaded":g}const w=(o,s)=>o!=="loaded"&&s==="beforeLoadOrError"||o==="failed"&&s==="onError",R=x(function(s,r){const t=E("Link",s),{className:a,isExternal:n,...i}=L(s);return S.jsx(b.a,{target:n?"_blank":void 0,rel:n?"noopener":void 0,ref:r,className:N("chakra-link",a),...i,__css:t})});R.displayName="Link";export{R as L,w as s,v as u};
